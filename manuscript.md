# 推奨構成（スペシャリスト向け5分LT）
- 冒頭（導入）：
    - 「Viewportって普段意識していますか？」
    - 「メディアクエリが効かない！？原因はViewportだったという事例から話します」
- Viewportとは何か？
    - 画面上の可視領域のこと
    - デスクトップとモバイルで挙動が違う（layout viewport と visual viewport）
- なぜ<meta name="viewport">が重要か？
    - デフォルトのビューポート幅は通常980px（iOS Safari等）
    - そのために文字が小さく、横スクロールが発生する
    - このタグで端末の画面サイズに合わせてレイアウトをスケーリングできる
- なぜメディアクエリが効かないことがあるのか？
    - @media (max-width: 600px)は、viewportが600px未満のときに効く
    - でもViewportがデフォルトの980pxだと「モバイルでも600px未満」にならずメディアクエリが無視される
- まとめ
    - viewportはデザインの根本的な前提
    - viewport設定とCSSのレスポンシブ設計はセット
    - 実機確認時のViewport幅の確認が重要（DevToolsで表示）

# 原稿
Viewportとは、ウェブコンテンツを見ることができるウィンドウ領域（大きさ）のことです。言葉だけでは分かりづらいため、例を挙げます。
たとえるなら、ウェブページ全体は「ポスター」や「風景」、Viewportはそれを見るための「窓」や「カメラのフレーム」です。なのでViewportが小さいと、全体を見るにはズームやスクロールが必要になります。


ViewportをHTMLで設定するには、<meta name="viewport">が必要になります。これは、ブラウザが端末の画面幅に合わせてViewportを調整するために設定します。もしこれを省略すると、このようにViewportが端末の大きさと一致せず、文字が小さくなることがあります。他にも、「コンテンツ全体が縮小表示される」や、「ズームアウトされた状態で読み込まれる」等が起こります。


では、Viewportが何処で使われているのかを見ていきます。Viewportは、ブラウザのレンダリング処理のレンダリングエンジンで、width=100%等のCSSのレイアウトの計算時に使用されます。また、レンダリング後の表示領域の確定と、@media等によるレスポンシブ対応にも使用されます。そのため、Viewportを設定しないと、指定した画面サイズに応じた@mediaが効かないことがあります。


# Sandbox
では、Viewportの設定をしないことで、ウェブコンテンツが適切に表示されないことは理解できたと思います。ではなぜ、Viewportの設定をしないと文字が小さくなり、今回の例だと横幅が980になったわけを説明します。ウェブコンテンツの表示にはコンテンツをレンダリングする必要があります。その手順は、
1. Viewportの確認
2.  確認した大きさに合わせたウェブコンテンツのレンダリング
3. 端末の大きさに合うようにレンダリングしたContentsの拡大縮小などを良しなにする
です。Viewportが端末の大きさと一致していないことで３でコンテンツを弄ることになり、スクロールしないはずの横スクロールが出来たり、文字が大きすぎたり、小さすぎたりします。では、先程の例で出てきた980はどこから来たかというと、OSやブラウザが適当に設定した値（980px、あるいは960px、1024pxなどを使っている）からきている。端末毎に設定すると、OSやブラウザがわの設定の負担が増えるため、固定値が設けられている。

しかし、OSがブラウザが決めたViewportをそのまま使いまわすと、UIが多少崩れ、UXがあれになります。そのため、異なる端末でも同じUIを提供し、高品質なUXを提供するために、端末の大きさによるUI崩れを最小限にするために、メディアqueryが生まれた。私がこの話をするきっかけになったメディアqueryもViewportの大きさで動作しているため、Viewportの設定が無かったから、適切に動作をしなかった。

纏めです。viewportはコンテンツを表示する大きさであり、OSやブラウザがデフォルト智を設定しています。これを使用する端末に合わせることで、メディアqueryによるUI崩れ防止ができます。